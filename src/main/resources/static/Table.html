<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <title>login</title>
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="/multiple/docs/css/bootstrap-example.min.css" rel="external nofollow" type="text/css">
    <link rel="stylesheet" href="/multiple/docs/css/prettify.min.css" rel="external nofollow" type="text/css">
    <script type="text/javascript" src="/multiple/docs/js/prettify.min.js"></script>
    <link rel="stylesheet" href="/multiple/dist/css/bootstrap-multiselect.css" rel="external nofollow" type="text/css">
    <script type="text/javascript" src="/multiple/dist/js/bootstrap-multiselect.js"></script>

    <style type="text/css">
    a{
        text-decoration: none;
        background:#4B4B4B;
        color: #fff;
        display: block;
    }
    .callout_button{
        width: 200px;
        height: 50px;
        border-radius: 20px;
        text-align:center;
        line-height: 50px;
     }
    .callout_button{background:#FF5B5B;margin:0 auto; }
    .callout_button:hover{background: red;}

    .mask{width: 100%;height: 100%;background:#000;position: absolute;top: 0px;left:0px;opacity: 0.4;z-index: 8000; display: none;-moz-user-select: none; -webkit-user-select: none;}
    .dialog{
        width: 600px;
        background:#fff;
        position: absolute;
        z-index: 9000;
        padding-bottom: 10px;
        display: none;
        -moz-user-select: none;
        -webkit-user-select: none;
    }
    .dialog_head{

        width: 100%;
        height:30px;
        background:#4B4B4B;
        text-align: center;
        line-height: 30px;
        color: #eee;
        cursor: move;
    }
    .dialog_content{
        width: 100%;
        height:450px;
        overflow-y:scroll;
        overflow-x:scroll
    }

     .close_button{
        width: 100%;
        height:28px;
        text-align: center;
        line-height: 30px;
        color: #fff
     }
    #closeBt{
        border-radius: 20px;
        background:#4B4B4B;
        text-align: center;
        color: #eee;
        cursor: move;
    }
</style>
<script type="text/javascript">
  var commitId;
</script>
</head>
<body>
<div id="d1" style="width:5%;height:800px;float:left;border:1px solid red" >1</div>

<!--<div id="d2" style="width:70%;height:50%;float:left;border:1px solid red; margin-left:10px;margin-top:20px" >hello-->
<!--</div>-->

<div id="d3" style="width:70%;height:50%;float:left;border:1px solid red " >
  <div class="table-responsive">
      <select name="type" id="userType" style="margin-top:50px">
           <option value="0">请选择</option>
           <option value="1">普通类型</option>
           <option value="2">VIP类型</option>
      </select>
      <label id = "lab1">labc</label><button id="tbnxxx1">btn1</button>

      <input type="button" value="按钮上bai的文字duzhi" data-v="改变后dao的文字" onclick="var s=this.value;this.value=this.dataset.v;this.dataset.v=s;"/>
      <input type="button" value="edit" data-v="edited" onclick="this.value=this.dataset.v;"/>

      <table class="table" id="mytable"  style="margin-top:50px">
        <thead>
            <tr id="tr1">
                <th>
                    <select id="example-getting-started" multiple="multiple">
                        <option value="cheese">Cheese</option>
                        <option value="tomatoes">Tomatoes</option>
                        <option value="Mozzarella">Mozzarella</option>
                        <option value="Mushrooms">Mushrooms</option>
                        <option value="Pepperoni">Pepperoni</option>
                        <option value="Onions">Onions</option>
                    </select>
                    <button id="btn">author-filter</button>
                </th>
                <th id="th2">commitId</th>
                <th id="th3">time</th>
                <th id="th4">tag</th>
                <th id="th5">comment</th>
                <th id="th6">status</th>
            </tr>
        </thead>
        <tbody>
          <tr>
            <td>产品1</td>
            <td>23/11/2013</td>
              <td><a href="https://github.com/18721336535/springboot_batis_H2">myh2</a></td></tr>
        </tbody>
      </table>
    </div>
</div>

<div id="mask" class="mask"></div>
<div class="dialog" id="dialog">
    <div class="dialog_head" id="move_part">可拖拽部分</div>
    <div class="dialog_content"></div>
    <div class="button close_button" id="close"><button id = "closeBt" href="#">关闭对话框</button>
    </div>
</div>

<script>

</script>
<script type="text/javascript">
    $(document).ready(function () {
      window.prettyPrint() && prettyPrint();
    });

    // 插件实例
    $(document).ready(function () {
      $("#example-getting-started").multiselect();
      // 点击事件获取所有选中option的value值
      $("#btn").click(function () {
           $('table tbody').empty("");
            var selectValueStr = [];
            $("#example-getting-started option:selected").each(function () {
              selectValueStr.push($(this).val());
            })
            console.log(selectValueStr);
            alert(selectValueStr);
            var data={'msg':'1','data':[{'id':'233456','province':'jx','date':'06-10','tag':'tag1','comment':'view'},
            {'id':'65421','province':'sh','date':'06-18','tag':'tag2','comment':'view'}]};

            buildTable(data);

<!--            $.post("user/loginnext",{},function (data) {-->
<!--                      $('#ios').load('tabletest.html');-->
<!--             });-->
      })

    });
     getThisvale = function(){
            $("#mytable").on('click','.btnSelect',function(){
            //获得当前行
            var currentRow=$(this).closest("tr");
            var col1=currentRow.find("td:eq(0)").text(); //获得当前行第一个TD值
            var col2=currentRow.find("td:eq(1)").text(); //获得当前行第二个TD值
            var col3=currentRow.find("td:eq(2)").text(); //获得当前行第三个TD值
            var data=col1+"\n"+col2+"\n"+col3;
            commitId =data;
             this.value='ing';
            alert(commitId);
         });
        }

    function buildTable(data){
        switch(data.msg){
            case '0':
                 $('table tbody').prepend("<tr><td colspan='2'>暂无数据</td></tr>");
                 break;
            case '1':
                  $.each(data.data,function(i,n){
                        var $tr = $("<tr>"+
                        "<td><a target='_blank' href='https://github.com/18721336535/springboot_batis_H2'>"+n.id+"</a></td>"+
                         "<td id='andy12356986321'>"+n.province+"</td>"+
                        "<td>"+n.date+"</td>"+
                        "<td>"+n.tag+"</td>"+
                         "<td> <input type='button' class='btnSelect' value='edit' data-v='edited' name='fzcftj' onclick='myclick();'/></td>"+
<!--                        <input type="button" value="edit" data-v="edited" onclick="this.value=this.dataset.v;"/>-->
                         "<td>review</td>"+
                        "</tr>");
                        var $table = $('table tbody');
                        $table.append($tr);
                  });
        }
        getThisvale();
    }//buildTable



    myclick=function(){
            var myType = document.getElementById("userType");//获取select对象
            var index = myType.selectedIndex; //获取选项中的索引，selectIndex表示的是当前所选中的index
            var v1= myType.options[index].value;//获取选项中options的value值
            var v2= myType.options[index].text;//获取选项中options的text值
            myType.options[index].text = "赋给的值";
            document.getElementById("tbnxxx1").innerHTML  = "赋给的值";
            document.getElementById("lab1").innerHTML = "赋给的值ya";


<!--       input=top.document.getElementsByName("fzcftj");-->
<!--       input[0].value="提交中";-->
<!--&lt;!&ndash;       window.open ("comment.html", "newwindow", "height=50%, width=50%, margin-top=50px, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no");&ndash;&gt;-->
<!--       $('#head').load('info_inner.html');-->



            var $dialog = $("#dialog");
            var $mask = $("#mask");

            $dialog.css("display","block");
            $mask.css("display","block");
            $('.dialog_content').load('comment.html');
            autoCenter($dialog);

            //自动居中对话框
            function autoCenter(el){
                var bodyW = $(window).width();
                var bodyH = $(window).height();
                var elW = el.width();
                var elH = el.height();
                $dialog.css({"left":(bodyW-elW)/2 + 'px',"top":(bodyH-elH)/2 + 'px'});
            };

            //点击弹出对话框
            $("#callout").click(function(){
                $dialog.css("display","block");
                $mask.css("display","block");
                $('.dialog_content').load('comment.html');
                autoCenter($dialog);
            });

            //禁止选中对话框内容
            if(document.attachEvent) {//ie的事件监听，拖拽div时禁止选中内容，firefox与chrome已在css中设置过-moz-user-select: none; -webkit-user-select: none;
                g('dialog').attachEvent('onselectstart', function() {
                  return false;
                });
            }
            //声明需要用到的变量
            var mx = 0,my = 0;      //鼠标x、y轴坐标（相对于left，top）
            var dx = 0,dy = 0;      //对话框坐标（同上）
            var isDraging = false;      //不可拖动

            //鼠标按下
            $("#move_part").mousedown(function(e){
                e = e || window.event;
                mx = e.pageX;     //点击时鼠标X坐标
                my = e.pageY;     //点击时鼠标Y坐标
                dx = $dialog.offset().left;
                dy = $dialog.offset().top;
                isDraging = true;      //标记对话框可拖动
            });

            //鼠标移动更新窗口位置
            $(document).mousemove(function(e){
                var e = e || window.event;
                var x = e.pageX;      //移动时鼠标X坐标
                var y = e.pageY;      //移动时鼠标Y坐标
                if(isDraging){        //判断对话框能否拖动
                    var moveX = dx + x - mx;      //移动后对话框新的left值
                    var moveY = dy + y - my;      //移动后对话框新的top值
                    //设置拖动范围
                    var pageW = $(window).width();
                    var pageH = $(window).height();
                    var dialogW = $dialog.width();
                    var dialogH = $dialog.height();
                    var maxX = pageW - dialogW;       //X轴可拖动最大值
                    var maxY = pageH - dialogH;       //Y轴可拖动最大值
                    moveX = Math.min(Math.max(0,moveX),maxX);     //X轴可拖动范围
                    moveY = Math.min(Math.max(0,moveY),maxY);     //Y轴可拖动范围
                    //重新设置对话框的left、top
                    $dialog.css({"left":moveX + 'px',"top":moveY + 'px'});
                };
            });

            //鼠标离开
            $("#move_part").mouseup(function(){
                isDraging = false;
            });

            //点击关闭对话框
            $("#close").click(function(){
                $dialog.css("display","none");
                $mask.css("display","none");
            });

            //窗口大小改变时，对话框始终居中
            window.onresize = function(){
                autoCenter($dialog);
            };

  }


</script>


</body>
</html>